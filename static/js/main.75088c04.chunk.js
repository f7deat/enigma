(this["webpackJsonpjubilant-enigma"]=this["webpackJsonpjubilant-enigma"]||[]).push([[0],{94:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(1),r=c.n(a),n=c(46),i=c.n(n),l=c(14),j=c(17),o=function(e){return{type:"SET_TRANSFORM_NODE",payload:e}},d=c(27),b=c(13),x="SET_IMAGE",h={image:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{image:t.payload});default:return e}},f=c(28),m={text:"",nodes:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT":return Object(b.a)(Object(b.a)({},e),{},{text:t.payload});case"SET_TEXT_NODE":return Object(b.a)(Object(b.a)({},e),{},{nodes:[].concat(Object(f.a)(e.nodes),[t.payload])});default:return e}},g={node:{}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TRANSFORM_NODE":return Object(b.a)(Object(b.a)({},e),{},{node:t.payload});default:return e}},v=Object(d.a)({imageReducer:u,textReducer:O,TransformReducer:p}),N=Object(d.b)(v);function y(){var e=Object(a.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(),i=Object(l.a)(n,2),d=i[0],b=i[1],x=Object(a.useState)([]),h=Object(l.a)(x,2),u=h[0],f=h[1];return N.subscribe((function(){b(N.getState().imageReducer.image),f(N.getState().textReducer.nodes),Object.keys(N.getState().TransformReducer.node).length>0&&r(N.getState().TransformReducer.node)})),Object(s.jsx)(j.c,{width:500,height:500,className:"bg-white border border-blue-500",onMouseDown:function(e){e.target===e.target.getStage()&&(N.dispatch(o({})),r(null))},children:Object(s.jsxs)(j.b,{children:[d&&Object(s.jsx)(j.a,{image:d,x:100,y:100,draggable:!0,onClick:function(e){N.dispatch(o(e.target))}}),c&&Object(s.jsx)(j.e,{node:c}),u&&u.map((function(e){return e}))]})})}function w(){return Object(s.jsxs)("div",{className:"border-b bg-white flex items-center",children:[Object(s.jsx)("div",{className:"px-4 py-3 flex-grow",children:Object(s.jsx)("i",{className:"fas fa-bars"})}),Object(s.jsx)("div",{className:"px-2",children:Object(s.jsxs)("button",{className:"px-4 py-1 rounded bg-blue-500 hover:bg-blue-600 text-white font-bold",onClick:function(){console.log(N.getState())},children:[Object(s.jsx)("i",{className:"fas fa-eye mr-2"}),"Preview"]})})]})}function S(e){var t=Object(a.useState)(""),c=Object(l.a)(t,2),r=c[0],n=c[1];return N.subscribe((function(){N.getState().imageReducer.image&&n(N.getState().imageReducer.image.currentSrc)})),Object(s.jsxs)("div",{className:"".concat(e.isShowCrop?"flex justify-center items-center h-screen w-screen absolute top-0 left-0":"hidden"),children:[Object(s.jsx)("div",{className:"w-screen h-screen bg-gray-500 opacity-50 absolute z-10 top-0 left-0"}),Object(s.jsxs)("div",{className:"h-3/4 w-1/2 bg-white absolute z-20 rounded shadow-lg",children:[Object(s.jsxs)("div",{className:"flex justify-between items-center px-3 pt-2 text-gray-600",children:[Object(s.jsx)("div",{className:"font-bold",children:"CROP IMAGE"}),Object(s.jsx)("button",{className:"p-2 transition duration-300 ease-in-out transform hover:rotate-90",onClick:function(){return e.setIsShowCrop(!1)},children:Object(s.jsx)("i",{className:"fas fa-times"})})]}),Object(s.jsxs)("div",{className:"px-2 h-full",children:[Object(s.jsxs)("div",{className:"border border-gray-200 rounded",style:{height:"calc(100% - 150px)"},children:[Object(s.jsxs)("div",{className:"bg-gray-100 rounded p-2 text-sm text-gray-600",children:[Object(s.jsx)("button",{onClick:function(){},children:Object(s.jsx)("i",{className:"fas fa-undo px-2"})}),Object(s.jsx)("button",{children:Object(s.jsx)("i",{className:"fas fa-redo px-2"})})]}),Object(s.jsx)("div",{className:"p-4 flex justify-center",style:{height:"calc(100% - 36px)"},children:Object(s.jsx)("img",{src:r,alt:""})})]}),Object(s.jsxs)("div",{className:"text-right mt-4",children:[Object(s.jsx)("button",{className:"text-gray-600 rounded font-medium px-6 py-2 mr-2 hover:text-gray-700",onClick:function(){return e.setIsShowCrop(!1)},children:"Cancel"}),Object(s.jsxs)("button",{className:"bg-blue-500 text-white rounded font-medium px-6 py-2 hover:bg-blue-600",children:[Object(s.jsx)("i",{className:"fas fa-crop"})," Crop"]})]})]})]})]})}function C(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)(S,{isShowCrop:c,setIsShowCrop:r}),Object(s.jsxs)("div",{className:"flex text-gray-700",children:[Object(s.jsxs)("div",{className:"flex text-sm flex-grow",children:[Object(s.jsx)(T,{icon:"fas fa-undo"}),Object(s.jsx)(T,{icon:"fas fa-redo"}),Object(s.jsx)("div",{className:"pl-4 py-3 text-gray-600 hover:text-gray-700 cursor-pointer",onClick:function(){r(!0)},children:Object(s.jsx)("i",{className:"fas fa-crop"})}),Object(s.jsx)(T,{icon:"fas fa-fill-drip"})]}),Object(s.jsxs)("div",{className:"flex text-sm",children:[Object(s.jsx)("div",{className:"pr-4 py-3 text-gray-400",children:Object(s.jsx)("i",{className:"fas fa-search-plus"})}),Object(s.jsx)("div",{className:"pr-4 py-3 text-gray-400",children:Object(s.jsx)("i",{className:"fas fa-search-minus"})})]})]})]})}var T=function(e){return Object(s.jsx)("div",{className:"pl-4 py-3 text-gray-400",children:Object(s.jsx)("i",{className:e.icon})})};function k(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1],n=function(e){var t;N.dispatch((t=e.currentTarget,{type:x,payload:t}))};return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"font-bold text-xl text-gray-700 mb-3",children:"Photo"}),Object(s.jsxs)("label",{className:"bg-blue-500 text-white block p-2 text-center font-bold cursor-pointer hover:bg-blue-600 shadow rounded",htmlFor:"image",children:[Object(s.jsx)("input",{type:"file",hidden:!0,accept:"image/*",id:"image",onChange:function(e){var t=e.currentTarget.files[0],s=[].concat(Object(f.a)(c),[URL.createObjectURL(t)]);r(s)}}),Object(s.jsx)("i",{className:"fas fa-cloud-upload-alt mr-2"})," Upload"]}),Object(s.jsx)("div",{className:"overflow-auto mt-1",style:{height:"calc(100vh - 150px)"},children:c&&c.map((function(e){return Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsx)("img",{src:e,alt:"",onClick:n})},Math.floor(100*Math.random()))}))})]})}c(94);var E=c(22),R=c(7),M=function(){var e=function(e){N.dispatch(o(e.target))},t=function(t){var c=t.target.ownerDocument.defaultView.getComputedStyle(t.target,null),a=Object(s.jsx)(j.d,{text:t.target.innerText,draggable:!0,fontSize:Number(c.fontSize.match(/\d+/)[0]),fontFamily:c.fontFamily,fontStyle:"".concat(c.fontStyle," ").concat(c.fontWeight),onClick:e},Math.floor(100*Math.random()));N.dispatch({type:"SET_TEXT_NODE",payload:a})};return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"font-bold text-xl text-gray-700 mb-3",children:"Text"}),Object(s.jsxs)("div",{className:"p-2 text-xl",children:[Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsx)("button",{className:"font-bold",onClick:t,children:"Bold"})}),Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsx)("button",{className:"font-bold italic",onClick:t,children:"Bold Italic"})}),Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsx)("button",{onClick:t,children:"Normal"})}),Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsx)("button",{onClick:t,className:"italic",children:"Normal Italic"})})]})]})};var _=function(){return Object(s.jsxs)("div",{className:"bg-gray-100 h-full",children:[Object(s.jsx)(w,{}),Object(s.jsxs)("div",{className:"flex",style:{height:"calc(100vh - 49px)"},children:[Object(s.jsxs)("div",{className:"bg-gray-800 w-16 h-full flex-col",children:[Object(s.jsx)("div",{className:"text-white w-full h-16 flex justify-center items-center hover:bg-gray-900 cursor-pointer",children:Object(s.jsx)(E.b,{to:"/",children:Object(s.jsx)("i",{className:"fas fa-image text-2xl"})})}),Object(s.jsx)("div",{className:"text-white w-full h-16 flex justify-center items-center hover:bg-gray-900 cursor-pointer",children:Object(s.jsx)("i",{className:"fas fa-disease text-2xl"})}),Object(s.jsx)("div",{className:"text-white w-full h-16 flex justify-center items-center hover:bg-gray-900 cursor-pointer",children:Object(s.jsx)("i",{className:"fas fa-paragraph text-2xl"})}),Object(s.jsx)("div",{className:"text-white w-full h-16 flex justify-center items-center hover:bg-gray-900 cursor-pointer",children:Object(s.jsx)(E.b,{to:"/text",children:Object(s.jsx)("i",{className:"fab fa-autoprefixer text-2xl"})})})]}),Object(s.jsx)("div",{className:"w-72 border-r bg-white p-3",children:Object(s.jsxs)(R.c,{children:[Object(s.jsx)(R.a,{exact:!0,path:"/text",children:Object(s.jsx)(M,{})}),Object(s.jsx)(R.a,{exact:!0,path:"/",children:Object(s.jsx)(k,{})})]})}),Object(s.jsxs)("div",{className:"flex-grow",children:[Object(s.jsx)(C,{}),Object(s.jsx)("div",{className:"flex items-center justify-center",style:{height:"calc(100% - 48px)"},children:Object(s.jsx)(y,{})})]})]})]})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,100)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,n=t.getTTFB;c(e),s(e),a(e),r(e),n(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(E.a,{children:Object(s.jsx)(_,{})})}),document.getElementById("root")),F()}},[[99,1,2]]]);
//# sourceMappingURL=main.75088c04.chunk.js.map